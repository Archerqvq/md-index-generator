# Markdown Index Generator
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

## 项目简介
`generate_index.py` 是一款轻量级跨平台Python脚本，核心作用是自动扫描指定目录下所有子文件夹，检索其中的 `index.md` 文件，并在当前目录生成/更新汇总式的 `index.md` 索引文件（包含所有子文件夹 `index.md` 的Markdown格式链接）。

脚本针对中文场景深度优化，完美解决中文路径/文件名乱码问题，同时兼容Python 2.7+和Python 3.x版本，无需额外依赖，可直接在Windows、Linux、macOS等系统运行，适用于文档库、博客、知识库等需要批量管理Markdown索引的场景。

## Project Introduction
`generate_index.py` is a lightweight cross-platform Python script whose core function is to automatically scan all subfolders under the specified directory, retrieve the `index.md` files in them, and generate/update a summary `index.md` index file in the current directory (containing Markdown-formatted links to all `index.md` files in subfolders).

The script is deeply optimized for Chinese scenarios, perfectly solving the garbled code problem of Chinese paths/filenames. It is also compatible with Python 2.7+ and Python 3.x versions, requires no additional dependencies, and can run directly on Windows, Linux, macOS and other systems. It is suitable for scenarios such as document libraries, blogs, and knowledge bases that need to manage Markdown indexes in batches.

## 核心功能
1. **自动索引生成**：递归扫描当前目录下所有子文件夹，自动识别其中的 `index.md` 文件；
2. **跨平台兼容**：适配Windows、Linux、macOS等主流操作系统的路径规则；
3. **Python版本兼容**：同时支持Python 2.7+和Python 3.x，无需修改代码；
4. **中文友好**：完美处理中文目录、中文文件名，内置编码适配逻辑，杜绝乱码；
5. **自动修复乱码**：Windows系统下自动切换控制台编码，确保中文输出正常；
6. **零依赖运行**：仅依赖Python内置库，无需安装第三方包；
7. **智能覆盖/新建**：当前目录无 `index.md` 时自动新建，已有则覆盖更新索引内容。

## Key Features
1. **Automatic Index Generation**: Recursively scan all subfolders under the current directory and automatically identify `index.md` files in them;
2. **Cross-platform Compatibility**: Adapt to path rules of mainstream operating systems such as Windows, Linux, and macOS;
3. **Python Version Compatibility**: Support both Python 2.7+ and Python 3.x without modifying code;
4. **Chinese-friendly**: Perfectly handle Chinese directories and filenames, with built-in encoding adaptation logic to eliminate garbled characters;
5. **Automatic Garbled Code Fix**: Automatically switch console encoding on Windows systems to ensure normal Chinese output;
6. **Zero-dependency Operation**: Only rely on Python built-in libraries, no need to install third-party packages;
7. **Intelligent Overwrite/Create**: Automatically create `index.md` if it does not exist in the current directory, or overwrite and update the index content if it exists.

## 使用指南
### 前置条件
确保系统已安装Python（2.7+ 或 3.x版本均可），无需额外安装依赖。

### 操作步骤
1. 将 `generate_index.py` 脚本放置到需要生成索引的**根目录**（即希望生成汇总 `index.md` 的目录）；
2. 打开终端/命令行，进入该根目录；
3. 运行脚本：
   ```bash
   # Python 2 环境
   python generate_index.py

   # Python 3 环境
   python3 generate_index.py
   ```
4. 脚本运行完成后，根目录会生成/更新 `index.md` 文件，打开即可查看所有子文件夹 `index.md` 的汇总链接。

## Usage Guide
### Prerequisites
Ensure that Python (version 2.7+ or 3.x) is installed on the system, and no additional dependencies are required.

### Operation Steps
1. Place the `generate_index.py` script in the **root directory** where you want to generate the index (i.e., the directory where you want to generate the summary `index.md`);
2. Open the terminal/command line and navigate to the root directory;
3. Run the script:
   ```bash
   # Python 2 environment
   python generate_index.py

   # Python 3 environment
   python3 generate_index.py
   ```
4. After the script runs, the `index.md` file will be generated/updated in the root directory. Open it to view the summary links of all `index.md` files in subfolders.

## 项目结构示例
脚本适用的通用目录结构如下（可根据实际场景调整，只需子文件夹包含 `index.md` 即可）：
```
your-project/
├── generate_index.py       # 索引生成脚本
├── index.md                # 脚本自动生成的汇总索引（目标文件）
├── subfolder-1/
│   └── index.md            # 子文件夹的Markdown文件
├── subfolder-2/
│   └── index.md            # 子文件夹的Markdown文件
├── subfolder-3/
│   ├── images/             # 可选：子文件夹的附属资源
│   └── index.md            # 子文件夹的Markdown文件
└── ...                     # 更多子文件夹
```

## Project Structure Example
The general directory structure applicable to the script is as follows (can be adjusted according to actual scenarios, only need subfolders to contain `index.md`):
```
your-project/
├── generate_index.py       # Index generation script
├── index.md                # Summary index automatically generated by the script (target file)
├── subfolder-1/
│   └── index.md            # Markdown file of subfolder
├── subfolder-2/
│   └── index.md            # Markdown file of subfolder
├── subfolder-3/
│   ├── images/             # Optional: Attached resources of subfolder
│   └── index.md            # Markdown file of subfolder
└── ...                     # More subfolders
```

## 注意事项
1. 脚本会**覆盖**当前目录已有的 `index.md` 文件，若该文件包含手动编辑的重要内容，请先备份；
2. 仅识别子文件夹中命名为 `index.md` 的文件（区分大小写，`Index.md`/`INDEX.MD` 等不会被识别）；
3. 脚本运行时的终端输出仅作日志展示，核心索引内容会写入根目录的 `index.md` 文件；
4. 若子文件夹嵌套多层（如 `subfolder-1/sub-subfolder/index.md`），脚本会自动生成相对路径链接，确保跳转正常。

## Notes
1. The script will **overwrite** the existing `index.md` file in the current directory. If the file contains important manually edited content, please back it up first;
2. Only files named `index.md` in subfolders are recognized (case-sensitive, `Index.md`/`INDEX.MD`, etc. will not be recognized);
3. The terminal output during script operation is only for log display, and the core index content will be written to the `index.md` file in the root directory;
4. If subfolders are nested in multiple layers (e.g., `subfolder-1/sub-subfolder/index.md`), the script will automatically generate relative path links to ensure normal jumps.

## 许可证
本项目采用 MIT 许可证开源，你可以自由使用、修改、分发本脚本，无需授权（注明原作者即可）。

## License
This project is open source under the MIT License. You can freely use, modify, and distribute this script without authorization (just indicate the original author).

For more details, please refer to the [LICENSE](LICENSE) file in the repository.